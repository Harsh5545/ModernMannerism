// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// model Post {
//   id        Int      @id @default(autoincrement())
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   title     String   @db.VarChar(255)
//   content   String?
//   published Boolean  @default(false)
//   author    User     @relation(fields: [authorId], references: [id])
//   authorId  Int
// }

// model Profile {
//   id     Int     @id @default(autoincrement())
//   bio    String?
//   user   User    @relation(fields: [userId], references: [id])
//   userId Int     @unique
// }

model Role {
  id        Int      @id @default(autoincrement())
  name      String   @unique
  users     User[] // One-to-many relation
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// User model
model User {
  id            Int      @id @default(autoincrement())
  email         String   @unique
  first_name    String?
  last_name     String?
  password      String
  mobile_number String?
  roleId        Int
  role          Role     @relation(fields: [roleId], references: [id])
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

// Category model with timestamps
enum CategoryStatus {
  ACTIVE
  INACTIVE
}

model Category {
  id             Int            @id @default(autoincrement())
  category_name  String         @unique
  category_image String?
  createdAt      DateTime       @default(now())
  updatedAt      DateTime       @updatedAt
  status         CategoryStatus @default(ACTIVE) // Default to ACTIVE
  services       Service[] // One-to-many relation to services
}

// Service model with SEO-related data and program details
model Service {
  id         Int      @id @default(autoincrement())
  categoryId Int // Foreign key linking to the Category
  category   Category @relation(fields: [categoryId], references: [id])

  heading             String // SEO Heading
  subheading          String // SEO Subheading
  testimonial         String? // Testimonial (optional)
  faq                 String? // FAQ (optional)
  why_choose_program  String? // "Why Choose" content
  program_details     String? // Details about the program
  program_highlights  String? // Program highlights
  what_you_learn      String? // "What You Learn" section
  overview            String? // Program overview
  what_program_offers String? // What the program offers
  hero_image          String? // URL or path to the hero image
  image               String? // URL or path to an additional image

  // SEO Fields
  slug             String  @unique // Unique URL slug for the service page
  meta_title       String? // Meta title for the service page
  meta_description String? // Meta description for the service page
  og_title         String? // Open Graph (OG) title for social media
  og_image         String? // Open Graph (OG) image for social media
  keywords         String? // Keywords for SEO optimization

  createdAt DateTime @default(now()) // Automatically set when created
  updatedAt DateTime @updatedAt // Automatically updated when modified
}
